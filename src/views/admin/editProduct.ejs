<%- include('../template/cabeceraAdmin', { tituloWeb: 'Editar Producto' }) %>

<div class="container mt-4 categories-container">
    <div class="title-container">
        <h1 class="text-center">Editar Producto</h1>
    </div>
    <form action="/admin/products/<%= product.id %>" method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label for="name">Nombre</label>
            <input type="text" class="form-control" id="name" name="name" value="<%= product.name %>" required>
        </div>
        <div class="form-group">
            <label for="description">Descripción</label>
            <textarea class="form-control" id="description" name="description" required><%= product.description %></textarea>
        </div>
        <div class="form-group">
            <label for="price">Precio</label>
            <input type="number" class="form-control" id="price" name="price" value="<%= product.price %>" required>
        </div>
        <div class="form-group">
            <label for="stock">Stock</label>
            <input type="number" class="form-control" id="stock" name="stock" value="<%= product.stock %>" required>
        </div>
        <div class="form-group">
            <label for="categoryId">Categoría:</label>
            <select class="form-control" id="categoryId" name="categoryId">
                <% categories.forEach(category => { %>
                    <option value="<%= category.id %>" <%= product.categoryId === category.id ? 'selected' : '' %>><%= category.name %></option>
                <% }); %>
            </select>
        </div>
        <div class="form-group">
            <label for="image">Imagen Actual:</label>
            <img src="/img/<%= product.image %>" class="img-thumbnail" style="max-width: 200px;">
        </div>
        <div class="form-group">
            <label for="newImage">Seleccionar Nueva Imagen:</label>
            <input type="file" class="form-control-file" id="newImage" name="newImage">
        </div>
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    </form>
</div>
